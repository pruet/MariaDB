SET NAMES utf8;
#
# Testing strnxfrm
#
CREATE TABLE t1 (a VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_thai_520_w2);
INSERT INTO t1 VALUES (SPACE(0)),(SPACE(1)),(SPACE(2));
SELECT HEX(a), HEX(WEIGHT_STRING(a AS CHAR(8))) FROM t1;
HEX(a)	HEX(WEIGHT_STRING(a AS CHAR(8)))
	020A020A020A020A020A020A020A020A00200020002000200020002000200020
20	020A020A020A020A020A020A020A020A00200020002000200020002000200020
2020	020A020A020A020A020A020A020A020A00200020002000200020002000200020
SELECT HEX(a), HEX(WEIGHT_STRING(a AS CHAR(4))) FROM t1;
HEX(a)	HEX(WEIGHT_STRING(a AS CHAR(4)))
	020A020A020A020A0020002000200020
20	020A020A020A020A0020002000200020
2020	020A020A020A020A0020002000200020
SELECT HEX(a), HEX(WEIGHT_STRING(a AS CHAR(4) LEVEL 1)) FROM t1;
HEX(a)	HEX(WEIGHT_STRING(a AS CHAR(4) LEVEL 1))
	020A020A020A020A
20	020A020A020A020A
2020	020A020A020A020A
SELECT HEX(a), HEX(WEIGHT_STRING(a AS CHAR(4) LEVEL 2)) FROM t1;
HEX(a)	HEX(WEIGHT_STRING(a AS CHAR(4) LEVEL 2))
	0020002000200020
20	0020002000200020
2020	0020002000200020
SELECT HEX(a), HEX(WEIGHT_STRING(a AS CHAR(4) LEVEL 3)) FROM t1;
HEX(a)	HEX(WEIGHT_STRING(a AS CHAR(4) LEVEL 3))
	0020002000200020
20	0020002000200020
2020	0020002000200020
DROP TABLE t1;
CREATE TABLE t1 (a CHAR(10) CHARACTER SET utf8 COLLATE utf8_thai_520_w2);
INSERT INTO t1 VALUES ('A'),('À'),('Á'),('Â'),('Ã'),('Ä'),('Å');
SELECT a, HEX(WEIGHT_STRING(a LEVEL 2)) FROM t1 ORDER BY a;
a	HEX(WEIGHT_STRING(a LEVEL 2))
A	0020
Á	00200032
À	00200035
Â	0020003C
Å	00200043
Ä	00200047
Ã	0020004E
SELECT a, HEX(WEIGHT_STRING(a LEVEL 2)) FROM t1 ORDER BY a DESC;
a	HEX(WEIGHT_STRING(a LEVEL 2))
Ã	0020004E
Ä	00200047
Å	00200043
Â	0020003C
À	00200035
Á	00200032
A	0020
ALTER TABLE t1 MODIFY a VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_thai_520_w2;
SELECT a, HEX(WEIGHT_STRING(a LEVEL 2)) FROM t1 ORDER BY a;
a	HEX(WEIGHT_STRING(a LEVEL 2))
A	0020
Á	00200032
À	00200035
Â	0020003C
Å	00200043
Ä	00200047
Ã	0020004E
SELECT a, HEX(WEIGHT_STRING(a LEVEL 2)) FROM t1 ORDER BY a DESC;
a	HEX(WEIGHT_STRING(a LEVEL 2))
Ã	0020004E
Ä	00200047
Å	00200043
Â	0020003C
À	00200035
Á	00200032
A	0020
DROP TABLE t1;
CREATE TABLE t1 (a VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_thai_520_w2);
INSERT INTO t1 VALUES ('cota'),('cote'),('cotz');
INSERT INTO t1 VALUES ('coté'),('côte'),('côté'),('cotë'),('côtë');
SELECT * FROM t1 ORDER BY a;
a
cota
cote
coté
cotë
côte
côté
côtë
cotz
SELECT * FROM t1 ORDER BY a DESC;
a
cotz
côtë
côté
côte
cotë
coté
cote
cota
DROP TABLE t1;
